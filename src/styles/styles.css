@layer view-transitions, reset, variables, layout, overrides, content;

@layer reset {
  /* 1. Use a more-intuitive box-sizing model */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  /* 2. Remove default margin */
  * {
    margin: 0;
  }
  
  /* 3. Enable keyword animations */
  @media (prefers-reduced-motion: no-preference) {
    html {
      interpolate-size: allow-keywords;
    }
  }
  
  body {
    /* 4. Add accessible line-height */
    line-height: 1.5;
    /* 5. Improve text rendering */
    -webkit-font-smoothing: antialiased;
  }
  
  /* 6. Improve media defaults */
  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
  }
  
  /* 7. Inherit fonts for form controls */
  input, button, textarea, select {
    font: inherit;
  }
  
  /* 8. Avoid text overflows */
  p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
  }
  
  /* 9. Improve line wrapping */
  p {
    text-wrap: pretty;
  }
  h1, h2, h3, h4, h5, h6 {
    text-wrap: balance;
  }
  
  /*
    10. Create a root stacking context
  */
  #root, #__next {
    isolation: isolate;
  }
}

@layer variables {
  :root {
    --font-display: 'headline-gothic-atf', sans-serif;
    --font-sans: 'inter-variable', sans-serif;
    --font-serif: 'proxima-nova', serif;
    --font-mono: 'source-code-pro', monospace;
  
    --header-font: var(--font-display);
    --body-font: var(--font-sans);
  
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-7: 1.75rem;
    --space-8: 2rem;
    --space-9: 2.25rem;
    --space-10: 2.5rem;
    --space-11: 2.75rem;
    --space-12: 3rem;
    --space-24: 6rem;
  
    --container-width: 100%;
    --font-size-base: 16px;
    --font-size-md: 1.25rem;
    --font-size-lg: 1.5rem;
    --font-size-xl: 4rem;
    --font-size-2xl: 6rem;
    --font-size-3xl: 8rem;
    --font-size-4xl: 9.75rem;

    --font-regular: "slnt" 0, "wght" 400;
    --font-semi-bold: "slnt" 0, "wght" 600;
    --font-bold: "slnt" 0, "wght" 700;
  
    --border-radius-xs: 4px;
    --border-radius-sm: 8px;
    --border-radius: 16px;
    --border-radius-lg: 32px;
  
    --color-primary: #FFFFFF;
    --color-onPrimary: #363636;
    --color-secondary: #D2D2D2;
    --color-error: #e74c3c;
    --color-success: #2ecc71;
  
    --color-background: var(--color-primary);
    --color-border: oklab(from var(--color-primary) l a calc(b * .25));
    --color-skeleton: #eeeeee;
  
    --color-text: var(--color-onPrimary);
    --color-link: var(--color-text);
    --color-link-hover: oklab(from var(--color-secondary) l a calc(b * 1.25));
  
    --ease-out-elastic: linear(0, .5737 7.6%, .8382 11.87%, .9463 14.19%, 1.0292 16.54%, 1.0886 18.97%, 1.1258 21.53%, 1.137 22.97%, 1.1424 24.48%, 1.1423 26.1%, 1.1366 27.86%, 1.1165 31.01%, 1.0507 38.62%, 1.0219 42.57%, .9995 46.99%, .9872 51.63%, .9842 58.77%, 1.0011 81.26%, 1);
    --ease-in-cubic: cubic-bezier(.55, .05, .675, .19);
    --ease-out-cubic: cubic-bezier(.19,.91,.47,.92);
  }
}

@layer layout {
  @media (min-width: 640px) {
    :root {
      --container-width: 640px;
      --font-size-base: 20px;
    }
  }
  
  @media (min-width: 768px) {
    :root {
      --container-width: 840px;
      --nav-clearance: 5rem;
    }
  }
  
  @media (min-width: 1280px) {
    :root {
      --container-width: 1180px;
    }
  }
  
  @media (min-width: 1440px) {
    :root {
      --container-width: 1340px;
    }
  }
}

@layer overrides {
  html {
    scroll-padding-top: var(--space-24);
  }
  
  body {
    font-family: var(--body-font);
    font-variation-settings:  var(--font-regular);;
    line-height: 1.6;
    color: var(--color-text);
    background-color: var(--color-background);
    margin: 0;
    padding: 0;
    font-weight: 400;
    font-size: var(--font-size-base);
  }
  
  a {
    color: var(--color-link);
    text-decoration: none;
    transition: color 0.3s;
  }
  
  a:hover,
  a:focus {
    color: var(--color-link-hover);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--header-font);
    color: var(--color-text);
    line-height: 1.25;
    font-weight: 400;
  }

  strong {
    font-variation-settings:  var(--font-bold);
  }
} 

@layer content {
  .content {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  .content h2,
  .content h3,
  .content h4,
  .content h5,
  .content h6 {
    line-height: 1.2;
    text-wrap: pretty;
    margin-bottom: 0;
    font-family: var(--body-font);
    font-variation-settings: var(--font-bold);
  }
}


@layer view-transitions {
  @view-transition {
    navigation: auto;
  }
}

@layer view-transitions-experience {
  @keyframes fade-in-card-content {
    from {
      opacity: 0;
    }
  }
  
  @keyframes fade-out-card-content {
    to {
      opacity: 0;
    }
  }
  
  @keyframes fade-in-card-content-aside {
    from {
      opacity: 0;
    }
  }

  @keyframes fade-out-card-content-aside {
    to {
      opacity: 0;
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
  }

  @keyframes slide-down {
    to {
      opacity: 0;
    }
  }

  @keyframes slide-in {
    from {
      opacity: 0;
      transform: translateX(40px);
    }
  }

  @keyframes slide-out {
    to {
      opacity: 0;
      transform: translateX(-40px);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
  }

  @keyframes fade-out {
    to {
      opacity: 0;
    }
  }

  /* Experience section */
  ::view-transition-new(card-content-aside-streeva),
  ::view-transition-new(card-content-aside-1minus1),
  ::view-transition-new(card-content-aside-smsw),
  ::view-transition-new(card-content-aside-freelance) {
    animation: 200ms ease-in both fade-in-card-content-aside;
  }

  ::view-transition-old(card-content-aside-streeva),
  ::view-transition-old(card-content-aside-1minus1),
  ::view-transition-old(card-content-aside-smsw),
  ::view-transition-old(card-content-aside-freelance) {
    animation: 150ms ease-out both fade-out-card-content-aside;
  }

  ::view-transition-new(card-meta-streeva),
  ::view-transition-new(card-meta-1minus1),
  ::view-transition-new(card-meta-smsw),
  ::view-transition-new(card-meta-freelance) {
    animation: 2000ms var(--ease-out-cubic) both fade-in;
  }

  ::view-transition-old(card-meta-streeva),
  ::view-transition-old(card-meta-1minus1),
  ::view-transition-old(card-meta-smsw),
  ::view-transition-old(card-meta-freelance) {
    animation: 100ms var(--ease-in-cubic) both fade-out;
  }

  ::view-transition-new(card-content-body-streeva),
  ::view-transition-new(card-content-body-1minus1),
  ::view-transition-new(card-content-body-smsw),
  ::view-transition-new(card-content-body-freelance) {
    animation: 200ms var(--ease-out-cubic) both slide-in;
    animation-delay: 300ms;
  }
  
  ::view-transition-old(card-content-body-streeva),
  ::view-transition-old(card-content-body-1minus1),
  ::view-transition-old(card-content-body-smsw),
  ::view-transition-old(card-content-body-freelance) {
    animation: 100ms var(--ease-in-cubic) both fade-out;
    animation-delay: 0;
  }

  /* Work section */
  ::view-transition-new(work-main) {
    animation: 500ms var(--ease-out-cubic) both slide-up;
    animation-delay: 100ms;
  }

  ::view-transition-old(work-main) {
    animation: 100ms var(--ease-in-cubic) both slide-down;
    animation-delay: 0;
  }

  ::view-transition-new(work-controls) {
    animation: 1s var(--ease-out-elastic) both slide-up;
    animation-delay: 200ms;
  }

  ::view-transition-old(work-controls) {
    opacity: 0;
  }
}