<a href="/" class="avatar">
  <span class="avatar__icon-wrapper">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      fill="currentColor"
      class="avatar__icon"
      viewBox="0 0 16 16"
    >
      <circle
        fill="var(--color-onPrimary)"
        class="avatar__icon-circle"
        cx="8"
        cy="8"
        r="8"></circle>
      <path
        class="avatar__icon-expression--none"
        d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16M4.5 6h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1m5 0h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1m-5 4h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1"
      ></path>
      <path
        class="avatar__icon-expression--grimace"
        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M7 6.25C7 5.56 6.552 5 6 5s-1 .56-1 1.25.448 1.25 1 1.25 1-.56 1-1.25m3 1.25c.552 0 1-.56 1-1.25S10.552 5 10 5s-1 .56-1 1.25.448 1.25 1 1.25m1.5 4.5a1.5 1.5 0 0 0 1.48-1.25v-.003a1.5 1.5 0 0 0 0-.497A1.5 1.5 0 0 0 11.5 9h-7a1.5 1.5 0 0 0-1.48 1.25v.003a1.5 1.5 0 0 0 0 .497A1.5 1.5 0 0 0 4.5 12zm-7.969-1.25a1 1 0 0 0 .969.75h.25v-.75zm8.938 0a1 1 0 0 1-.969.75h-.25v-.75zM11.5 9.5a1 1 0 0 1 .969.75H11.25V9.5zm-7.969.75A1 1 0 0 1 4.5 9.5h.25v.75zM5.25 11.5h1v-.75h-1zm2.5 0h-1v-.75h1zm1.5 0h-1v-.75h1zm1.5 0h-1v-.75h1zm-1-2h1v.75h-1zm-1.5 0h1v.75h-1zm-1.5 0h1v.75h-1zm-1.5 0h1v.75h-1z"
      ></path>
      <path
        class="avatar__icon-expression--love"
        d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M4.756 4.566c.763-1.424 4.02-.12.952 3.434-4.496-1.596-2.35-4.298-.952-3.434m6.559 5.448a.5.5 0 0 1 .548.736A4.5 4.5 0 0 1 7.965 13a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .548-.736h.005l.017.005.067.015.252.055c.215.046.515.108.857.169.693.124 1.522.242 2.152.242s1.46-.118 2.152-.242a27 27 0 0 0 1.109-.224l.067-.015.017-.004.005-.002zm-.07-5.448c1.397-.864 3.543 1.838-.953 3.434-3.067-3.554.19-4.858.952-3.434z"
      ></path>
    </svg>
  </span>
  <span role="heading" aria-level="1" class="avatar__heading">
    Michael Watts
  </span>
</a>

<script>
  import { inView } from "motion";

  inView(
    "#work",
    (element) => {
      document.querySelector(".avatar")?.setAttribute("inview-work", "");
      return () => {
        document.querySelector(".avatar")?.removeAttribute("inview-work");
      };
    },
    {
      amount: "all",
    }
  );
</script>

<style>
  @scope (.avatar) {
    --heading-display: none;
    --size: 48px;
  }

  @media (min-width: 768px) {
    @scope (.avatar) {
      --heading-display: inline;
    }
  }

  .avatar {
    display: flex;
    gap: var(--space-3);
    align-items: center;
    justify-content: start;
    margin: 0;
    position: relative;
    line-height: normal;
  }

  .avatar__icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-onPrimary);
    height: var(--size);
    width: var(--size);
    border-radius: var(--border-radius-sm);
    color: var(--color-primary);
  }

  .avatar__icon {
    height: 26px;
    width: 26px;
    fill: #eace09;
  }

  .avatar__heading {
    color: var(--color-onPrimary);
    display: var(--heading-display);
  }

  .avatar__icon-expression--none,
  .avatar__icon-expression--love {
    transition: all 200ms ease-in-out;
    transform-origin: center;
  }

  .avatar__icon-expression--love {
    transform: rotateX(180);
  }

  .avatar:hover .avatar__icon-expression--love,
  .avatar[inview-work] .avatar__icon-expression--love {
    transform: rotateX(0);
  }

  .avatar:hover .avatar__icon-expression--none,
  .avatar[inview-work] .avatar__icon-expression--none {
    transform: rotateX(180);
    opacity: 0;
  }

  .avatar__icon-expression--grimace {
    opacity: 0;
  }
</style>
